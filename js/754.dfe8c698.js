"use strict";(self["webpackChunkvue_cli_command"]=self["webpackChunkvue_cli_command"]||[]).push([[754],{5754:function(s,e,t){t.r(e),t.d(e,{default:function(){return q}});var a=t(3396);const l={class:"load_area"},i={class:"container_load"},n={class:"content_load"},o={class:"loadadd"},r={class:"choosewhat"},d=(0,a._)("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:""},null,-1);function c(s,e,t,c,u,h){const p=(0,a.up)("Button");return(0,a.wg)(),(0,a.iD)("section",l,[(0,a._)("div",i,[(0,a._)("div",n,[(0,a._)("div",o,[(0,a._)("p",{onClick:e[0]||(e[0]=s=>h.updateMethod("EmailSignOut"))},"註冊會員"),(0,a._)("p",{onClick:e[1]||(e[1]=s=>h.updateMethod("EmailSignIn"))},"會員登入")]),(0,a._)("div",r,[(0,a.Wm)(p,{onClick:h.signInGoogle,class:"loginBtn"},{default:(0,a.w5)((()=>[d,(0,a.Uk)(" 使用google登入 ")])),_:1},8,["onClick"])]),((0,a.wg)(),(0,a.j4)(a.Ob,null,[((0,a.wg)(),(0,a.j4)((0,a.LL)(u.oauthMethods),{onUpdate:h.updateMethod},null,40,["onUpdate"]))],1024))])])])}t(7658);var u=t(9242);const h={class:"load_write"},p={class:"write_group"},g={class:"write_list fill"},w={class:"write_list fill"},m={class:"addbtn"};function _(s,e,t,l,i,n){return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",h,[(0,a._)("ul",p,[(0,a._)("li",g,[(0,a.wy)((0,a._)("input",{type:"email",placeholder:"電子信箱","onUpdate:modelValue":e[0]||(e[0]=s=>i.email=s)},null,512),[[u.nr,i.email]])]),(0,a._)("li",w,[(0,a.wy)((0,a._)("input",{type:"password",placeholder:"密碼","onUpdate:modelValue":e[1]||(e[1]=s=>i.password=s)},null,512),[[u.nr,i.password]])])])]),(0,a._)("div",m,[(0,a._)("div",{class:"letgo",onClick:e[2]||(e[2]=(...s)=>n.signIn&&n.signIn(...s))},"登入"),(0,a._)("div",{class:"forget",onClick:e[3]||(e[3]=e=>s.$emit("update","ForgetPassword"))},"忘記密碼?")])],64)}var v=t(46),f=t(5155),y={data(){return{email:"",password:"",userInfo:null}},methods:{signIn(){""!==this.email&&""!==this.password&&(0,f.e5)(v.l,this.email,this.password).then((s=>{const e=s.user;this.$store.dispatch("updateUser",e),this.$router.push({name:"result",params:{type:"loginSuccess"}})})).catch((s=>{const e=s.code;console.log(e),"auth/wrong-password"===e?this.$Message.warning("密碼錯誤"):"auth/user-not-found"===e?this.$Message.warning("請前往註冊"):this.$Message.warning(e)}))}}},$=t(89);const k=(0,$.Z)(y,[["render",_]]);var M=k;const U={class:"load_write"},C={class:"write_group"},b={class:"write_list fill"},I={class:"write_list fill"},S={class:"write_list"},O=(0,a._)("a",{href:""},"網站服務條款及隱私政策",-1),P={class:"addbtn"};function V(s,e,t,l,i,n){return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",U,[(0,a._)("ul",C,[(0,a._)("li",b,[(0,a.wy)((0,a._)("input",{type:"email","onUpdate:modelValue":e[0]||(e[0]=s=>i.email=s),placeholder:"電子信箱"},null,512),[[u.nr,i.email]])]),(0,a._)("li",I,[(0,a.wy)((0,a._)("input",{type:"password","onUpdate:modelValue":e[1]||(e[1]=s=>i.password=s),placeholder:"密碼"},null,512),[[u.nr,i.password]])]),(0,a._)("li",S,[(0,a.wy)((0,a._)("input",{type:"checkbox","onUpdate:modelValue":e[2]||(e[2]=s=>i.policy=s)},null,512),[[u.e8,i.policy]]),(0,a.Uk)("我同意 "),O])])]),(0,a._)("div",P,[(0,a._)("div",{class:"letgo",onClick:e[3]||(e[3]=(...s)=>n.signOutUser&&n.signOutUser(...s))},"立即加入"),(0,a._)("div",{class:"forget",onClick:e[4]||(e[4]=e=>s.$emit("update","ForgetPassword"))},"忘記密碼?")])],64)}var E={data(){return{email:"",password:"",policy:!1}},methods:{signOutUser(){""!==this.email&&""!==this.password?this.policy?(0,f.Xb)(v.l,this.email,this.password).then((s=>{const e=s.user;this.$store.dispatch("createUser",e),this.$router.push({name:"result",params:{type:"signoutSuccess"}})})).catch((s=>{const e=s.code;"auth/email-already-in-use"===e?this.$Message.warning("您的信箱可能已被註冊過了"):"auth/weak-password"===e?this.$Message.warning("此密碼強度太弱，至少包含六個字符"):"auth/invalid-email"===e?this.$Message.warning("信箱格式錯誤"):this.$Message.warning(e)})):this.$Message.info("請勾選隱私政策"):this.$Message.info("請輸入信箱或密碼")}}};const D=(0,$.Z)(E,[["render",V]]);var Z=D;const j={class:"load_write"},F={class:"write_group"},H={class:"write_list fill"},L={class:"addbtn"};function Y(s,e,t,l,i,n){return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",j,[(0,a._)("ul",F,[(0,a._)("li",H,[(0,a.wy)((0,a._)("input",{type:"email",placeholder:"電子信箱","onUpdate:modelValue":e[0]||(e[0]=s=>i.email=s)},null,512),[[u.nr,i.email]])])])]),(0,a._)("div",L,[(0,a._)("div",{class:"letgo",onClick:e[1]||(e[1]=(...s)=>n.resetPsw&&n.resetPsw(...s))},"寄送信件"),(0,a._)("div",{class:"forget",onClick:e[2]||(e[2]=e=>s.$emit("update"))},"取消")])],64)}var B={data(){return{email:""}},methods:{resetPsw(){""!==this.email&&(0,f.LS)(v.l,this.email).then((()=>{})).catch((s=>{const e=s.code,t=s.message;console.log(e),console.log(t)}))}}};const G=(0,$.Z)(B,[["render",Y]]);var x=G;const J=new f.hJ;var W={components:{EmailSignIn:M,EmailSignOut:Z,ForgetPassword:x},data(){return{oauthMethods:""}},created(){this.updateMethod(this.$route.params.type)},methods:{updateMethod(s){this.oauthMethods=s||"EmailSignIn"},signInGoogle(){(0,f.rh)(v.l,J).then((s=>{const e=s.user;this.$store.dispatch("updateUser",e),this.$router.push({name:"result",params:{type:"loginSuccess"}})})).catch((s=>{const e=s.code;this.$Message.warning(e)}))}}};const X=(0,$.Z)(W,[["render",c]]);var q=X}}]);
//# sourceMappingURL=754.dfe8c698.js.map