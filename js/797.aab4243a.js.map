{"version":3,"file":"js/797.aab4243a.js","mappings":"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","sources":["webpack://vue_cli_command/./src/views/news/List.vue","webpack://vue_cli_command/./src/views/news/List.vue?0a04"],"sourcesContent":["<template>\n\t<Breadcrumb class=\"margin-1\">\n\t\t<BreadcrumbItem to=\"/\"><Icon type=\"md-home\" /></BreadcrumbItem>\n\t\t<BreadcrumbItem>{{$route.meta.title}}</BreadcrumbItem>\n\t</Breadcrumb>\n\n\t<Space wrap>\n\t\t<CheckboxGroup v-model=\"activeCategories\">\n\t\t\t<Checkbox v-for=\"item in categoriesData\" :key=\"item.id\" :label=\"item.name\" border></Checkbox>\n\t\t</CheckboxGroup>\n\n\t\t<InputNumber v-model=\"min\" size=\"small\" min=\"0\" :formatter=\"value => `$${value}`\" :parser=\"value => value.replace('$', '')\" />-\n\t\t<InputNumber v-model=\"max\" size=\"small\" min=\"0\" :formatter=\"value => `$${value}`\" :parser=\"value => value.replace('$', '')\"/>\n\t</Space>\n\t\n\t<div v-if=\"loading\">\n\t\tLoading...\n\t</div>\n\t<Row v-else :gutter=\"4\">\n\t\t<Col :xs=\"12\" :md=\"8\" v-for=\"item in displayData\" :key=\"item.id\" >\n\t\t\t<Card>\n\t\t\t\t<Carousel v-model=\"item.carousel\">\n\t\t\t\t\t<CarouselItem v-for=\"imageitem in item.images\" :key=\"imageitem\">\n\t\t\t\t\t\t<Image :src=\"imageitem\" fit=\"cover\" lazy width=\"100%\" height=\"150px\" >\n\t\t\t\t\t\t\t<template #placeholder>\n\t\t\t\t\t\t\t\t<Spin size=\"large\" fix />\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t<template #error>\n\t\t\t\t\t\t\t\t<Icon type=\"ios-image-outline\" size=\"24\" color=\"#ccc\" />\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</Image>\n\t\t\t\t\t</CarouselItem>\n\t\t\t\t</Carousel>\n\t\t\t\t<h3>{{item.title}}</h3>\n\t\t\t\t<div>\n\t\t\t\t\t<h4>$ {{item.price}}</h4>\n\t\t\t\t\t<!-- 這個組件沒辦法做數量更改event，可以news/Info寫法 -->\n\t\t\t\t\t<InputNumber v-model=\"item.count\" controls-outside size=\"small\" min=\"0\"/>\n\t\t\t\t\t<Button type=\"primary\" icon=\"md-cart\" size=\"small\" shape=\"circle\" @click=\"updateCart(item)\"></Button>\n\t\t\t\t\t<Button icon=\"md-return-right\" size=\"small\" shape=\"circle\" @click=\"showProduct(item.id)\"></Button>\n\t\t\t\t</div>\n\t\t\t</Card>\n\t\t</Col>\n\t</Row>\n</template>\n\n<script>\n// 太多地方使用將import寫在main.js L3, L19\n// import axios from 'axios'\nexport default {\n\tdata(){\n\t\treturn {\n\t\t\t// 1-50筆\n\t\t\tmin: 0,\n\t\t\tmax: 10000,\n\t\t\tquery: {\n\t\t\t\toffset: 0,\n\t\t\t\tlimit: 50\n\t\t\t},\n\t\t\tloading: false,\n\t\t\tsourceData: [],\n\t\t\tcategoriesData: [],\n\t\t\tactiveCategories: [],\n\t\t\tcartList: []\n\t\t}\n\t},\n\tcomputed: {\n        cartArray(){\n            return this.$store.state.cartList\n        },\n\t\tdisplayData(){\n\t\t\tif(this.sourceData.length === 0)return\n\n\t\t\tconsole.log('computed');\n\t\t\tlet newArray = this.sourceData\n\t\t\tif(this.activeCategories.length > 0){\n\t\t\t\tnewArray = newArray.filter((item, index)=>{\n\t\t\t\t\tif(!item.category) return\n\t\t\t\t\treturn this.activeCategories.includes(item.category.name)\n\t\t\t\t})\n\t\t\t}\n\t\t\t//篩選最小價錢-\n\t\t\tnewArray = newArray.filter((item, index)=>{\n\t\t\t\treturn item.price > this.min\n\t\t\t})\n\t\t\t//篩選最大價錢\n\t\t\tnewArray = newArray.filter(item=>{\n\t\t\t\treturn item.price < this.max\n\t\t\t})\n\t\t\treturn newArray\n\t\t}\n\t},\n\tmethods:{\n\t\tfetchCategories(){\n\t\t\tthis.axios.get('https://api.escuelajs.co/api/v1/categories')\n\t\t\t.then( (response) => {\n\t\t\t\tif(!Array.isArray(response.data))return\n\t\t\t\t// this.categoriesData = response.data\n\t\t\t\t// 因為第六個以外是別人測試的\n\t\t\t\tthis.categoriesData = response.data.splice(0,5)\n\t\t\t})\n\t\t\t.catch( (error) => {\n\t\t\t\tconsole.log(error);\n\t\t\t})\n\t\t},\n\t\tfetchProduct(){\n\t\t\tthis.loading = true\n\t\t\tthis.axios.get('https://api.escuelajs.co/api/v1/products', { \n\t\t\t\tparams: this.query\n\t\t\t})\n\t\t\t.then( (response) => {\n\t\t\t\tthis.sourceData = response.data.map(item => {\n\t\t\t\t\t// mapping購物車和產品清單：找出產品列表中已出現在購物車的項目數量\n\t\t\t\t\tconst haveCart = this.cartArray.find(cart => cart && cart.id === item.id)\n\t\t\t\t\treturn {\n\t\t\t\t\t\t...item,\n\t\t\t\t\t\tcount: haveCart? haveCart.count: 0\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t})\n\t\t\t.catch( (error) => { // handle error\n\t\t\t\tconsole.log(error);\n\t\t\t})\n\t\t\t.finally( () => { // always executed\n\t\t\t\tthis.loading = false\n\t\t\t});\n\t\t},\n\t\tshowProduct(id){\n\t\t\t// https://router.vuejs.org/zh/guide/essentials/navigation.html#%E5%AF%BC%E8%88%AA%E5%88%B0%E4%B8%8D%E5%90%8C%E7%9A%84%E4%BD%8D%E7%BD%AE\n\n\t\t\t// 寫法1-直接帶路徑\n\t\t\tthis.$router.push({ path: `/news/${id}`})\n\t\t},\n\t\tupdateCart(product){\n\t\t\tif(product.count === 0){\n\t\t\t\t// 如果數量0表示要取消購物車裡的項目\n\t\t\t\t// 篩選出非\"此ID\"的列表\n\t\t\t\tthis.cartList = this.cartList.filter(item => item.id != product.id)\n\t\t\t}else{\n\t\t\t\t// 找到此ID在列表中的陣列index\n\t\t\t\t// 去改變此ID的數量\n\t\t\t\tlet exitIndex = this.cartList.findIndex(item => item.id == product.id)\n\t\t\t\t//如果都找不到值會是-1\n\t\t\t\texitIndex = (exitIndex >= 0)? exitIndex: 0\n\t\t\t\tthis.cartList[exitIndex] = {\n\t\t\t\t\tid: product.id, \n\t\t\t\t\tcount: product.count\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.$store.commit('setCarts', this.cartList)\n\t\t}\n\t},\n\tcreated(){\n\t\tthis.fetchCategories()\n\t\tthis.fetchProduct()\n\t}\n}\n\n</script>","import { render } from \"./List.vue?vue&type=template&id=8304d9c8\"\nimport script from \"./List.vue?vue&type=script&lang=js\"\nexport * from \"./List.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/gaoxiaogui_tuic/Documents/iii_org/CGD103/vue_cli_command/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createVNode","_component_Breadcrumb","class","_component_BreadcrumbItem","to","_component_Icon","type","_ctx","meta","title","_component_Space","wrap","_component_CheckboxGroup","$data","_createElementBlock","_Fragment","item","_createBlock","_component_Checkbox","key","id","label","name","border","_component_InputNumber","size","min","formatter","value","parser","replace","_component_Row","gutter","$options","_component_Col","xs","md","_component_Card","_component_Carousel","carousel","images","imageitem","_component_CarouselItem","_component_Image","src","fit","lazy","width","height","placeholder","_component_Spin","fix","error","color","_createElementVNode","price","count","_component_Button","icon","shape","onClick","data","max","query","offset","limit","loading","sourceData","categoriesData","activeCategories","cartList","computed","cartArray","this","$store","state","displayData","length","console","log","newArray","filter","index","category","includes","methods","fetchCategories","axios","get","then","response","Array","isArray","splice","catch","fetchProduct","params","map","haveCart","find","cart","finally","showProduct","$router","push","path","updateCart","product","exitIndex","findIndex","commit","created","__exports__","render"],"sourceRoot":""}