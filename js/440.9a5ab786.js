"use strict";(self["webpackChunkvue_cli_command"]=self["webpackChunkvue_cli_command"]||[]).push([[440],{6440:function(t,e,i){i.r(e),i.d(e,{default:function(){return c}});var u=i(3396),a=i(7139);function o(t,e,i,o,r,n){const s=(0,u.up)("Icon"),c=(0,u.up)("BreadcrumbItem"),l=(0,u.up)("Breadcrumb"),d=(0,u.up)("Spin"),h=(0,u.up)("Image"),m=(0,u.up)("CarouselItem"),p=(0,u.up)("Carousel"),f=(0,u.up)("Tag"),g=(0,u.up)("Button"),w=(0,u.up)("InputNumber"),C=(0,u.up)("Card");return(0,u.wg)(),(0,u.iD)(u.HY,null,[(0,u.Wm)(l,{class:"margin-1"},{default:(0,u.w5)((()=>[(0,u.Wm)(c,{to:"/"},{default:(0,u.w5)((()=>[(0,u.Wm)(s,{type:"md-home"})])),_:1}),(0,u.Wm)(c,{to:"/news"},{default:(0,u.w5)((()=>[(0,u.Uk)("最新消息")])),_:1}),r.info.title?((0,u.wg)(),(0,u.j4)(c,{key:0},{default:(0,u.w5)((()=>[(0,u.Uk)((0,a.zw)(r.info.title),1)])),_:1})):(0,u.kq)("",!0)])),_:1}),(0,u._)("div",null,[(0,u.Wm)(C,null,{default:(0,u.w5)((()=>[(0,u.Wm)(p,{modelValue:r.carousel,"onUpdate:modelValue":e[0]||(e[0]=t=>r.carousel=t)},{default:(0,u.w5)((()=>[((0,u.wg)(!0),(0,u.iD)(u.HY,null,(0,u.Ko)(r.info.images,(t=>((0,u.wg)(),(0,u.j4)(m,{key:t},{default:(0,u.w5)((()=>[(0,u.Wm)(h,{src:t,fit:"cover",lazy:"",width:"100%",height:"150px"},{placeholder:(0,u.w5)((()=>[(0,u.Wm)(d,{size:"large",fix:""})])),error:(0,u.w5)((()=>[(0,u.Wm)(s,{type:"ios-image-outline",size:"24",color:"#ccc"})])),_:2},1032,["src"])])),_:2},1024)))),128))])),_:1},8,["modelValue"]),(0,u._)("h3",null,(0,a.zw)(r.info.title),1),r.info.category?((0,u.wg)(),(0,u.j4)(f,{key:0},{default:(0,u.w5)((()=>[(0,u.Uk)((0,a.zw)(r.info.category.name),1)])),_:1})):(0,u.kq)("",!0),(0,u._)("p",null,(0,a.zw)(r.info.description),1),(0,u._)("div",null,[(0,u._)("h4",null,"$ "+(0,a.zw)(r.info.price),1),(0,u.Wm)(g,{icon:"md-remove",onClick:n.reduceCart},null,8,["onClick"]),(0,u.Wm)(w,{modelValue:r.count,"onUpdate:modelValue":e[1]||(e[1]=t=>r.count=t),onChange:n.updateCart,min:"0"},null,8,["modelValue","onChange"]),(0,u.Wm)(g,{icon:"md-add",onClick:n.addCart},null,8,["onClick"])])])),_:1})])],64)}i(7658);var r={data(){return{info:{},loading:!1,carousel:0,count:0,cartList:[]}},computed:{productID(){return this.$route.params.id}},methods:{getTargetProduct(){this.loading=!0,fetch(`https://api.escuelajs.co/api/v1/products/${this.productID}`).then((t=>t.json())).then((t=>{this.info=t,this.loading=!1}))},getTargetCart(){const t=this.cartList.find((t=>t&&t.id==this.productID));this.count=t?t.count:0},reduceCart(){0!==this.count&&(this.count-=1,this.updateCart())},addCart(){this.count+=1,this.updateCart()},updateCart(){let t=this.cartList.findIndex((t=>t&&t.id==this.productID));t=t>=0?t:this.cartList.length,0===this.count?this.cartList=this.cartList.filter((t=>t&&t.id!==this.productID)):this.cartList[t]={id:this.productID,count:this.count},this.$store.commit("setCarts",this.cartList)}},created(){this.cartList=this.$store.state.cartList,this.productID?(this.getTargetProduct(),this.getTargetCart()):this.$router.push({name:"news"})}},n=i(89);const s=(0,n.Z)(r,[["render",o]]);var c=s}}]);
//# sourceMappingURL=440.9a5ab786.js.map